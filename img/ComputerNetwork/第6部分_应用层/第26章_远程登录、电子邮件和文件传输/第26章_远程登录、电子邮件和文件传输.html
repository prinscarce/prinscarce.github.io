<!--

 * @Title: 远程登录、电子邮件和文件传输
 * @Description: 
 * @Author: horizon/prinscarce
 * @Email: prinscarce@outlook.com
 * @Blog: prinscarce.github.io
 * @LastEditors: prinscarce
   -->

<h1 id="第-26-章-远程登录、电子邮件和文件传输"><a href="#第-26-章-远程登录、电子邮件和文件传输" class="headerlink" title="第 26 章 远程登录、电子邮件和文件传输"></a>第 26 章 远程登录、电子邮件和文件传输</h1><h2 id="一-Telnet-的基本概念"><a href="#一-Telnet-的基本概念" class="headerlink" title="一. Telnet 的基本概念"></a>一. Telnet 的基本概念</h2><blockquote>
<p>TELNET: Terminal NETwork, 终端网络</p>
</blockquote>
<ul>
<li>建立到远程计算机的连接 (类似命令行版本的远程桌面)</li>
<li>是客户端/服务器架构</li>
</ul>
<h2 id="二-电子邮件"><a href="#二-电子邮件" class="headerlink" title="二.电子邮件"></a>二.电子邮件</h2><p>电子邮件的架构、邮件报文、<strong>SMTP 和 MIME、POP3 和 IMAP</strong></p>
<h4 id="构架"><a href="#构架" class="headerlink" title="构架"></a>构架</h4><ul>
<li>UA: 用户代理程序, 负责生成邮件 (outlook等)</li>
<li>MTA: 报文传输代理, 负责发送&amp;接收, 客户端只能推入报文 (push)</li>
<li>MAA: 报文访问代理, 负责提供收到的报文, 客户端只能取出报文 (pull)</li>
<li>发送方为 A, 接收方为 B:<ul>
<li>同一系统: A -&gt; UA -&gt; 系统 -&gt; UA -&gt; B</li>
<li>不同系统: A -&gt; UA -&gt; MTA客户端(在邮件服务器上) -&gt; 因特网 -&gt; MTA服务器(在另一台邮件服务器上) -&gt; UA -&gt; B</li>
<li>一方未直接连接到邮件服务器: 先通过广域网/局域网把邮件报文发到服务器</li>
<li>双方均为👆: A-&gt;UA-&gt;MTA客户端(在A的计算机上)-&gt;MTA客户端(在邮件服务器上)-&gt;因特网-&gt;MTA服务器(在另一台邮件服务器上)-&gt;MAA服务器(同前)-&gt;MAA客户端(在B计算机上)-&gt;UA-&gt;B</li>
</ul>
</li>
</ul>
<img src="image-20210623152520219.png" alt="image-20210623152520219" style="zoom:67%;" />

<h4 id="MIME-IMP"><a href="#MIME-IMP" class="headerlink" title="MIME [IMP]"></a>MIME [IMP]</h4><blockquote>
<p>MIME: Multipurpose Internet Mail Extension, 多用途因特网邮件扩展</p>
</blockquote>
<ul>
<li>将非 ASCII 数据转换成 NVT ASCII 数据</li>
<li><img src="image-20210623153524590.png" alt="image-20210623153524590" style="zoom:67%;" /></li>
</ul>
<h4 id="SMTP-IMP"><a href="#SMTP-IMP" class="headerlink" title="SMTP [IMP]"></a>SMTP [IMP]</h4><blockquote>
<p>SMTP: Simple Mail Transfer Protocol, 简单邮件传输协议</p>
</blockquote>
<ul>
<li>是报文传输代理 (MTA) 协议</li>
<li>定义了一组交换邮件的命令</li>
<li>连接建立-&gt;邮件发送-&gt;连接释放</li>
</ul>
<h4 id="POP3-和-IMAP4-IMP"><a href="#POP3-和-IMAP4-IMP" class="headerlink" title="POP3 和 IMAP4 [IMP]"></a>POP3 和 IMAP4 [IMP]</h4><blockquote>
<p>POP: Post Office Protocol ver 3, 邮局协议版本 3<br>IMAP: Internet Mail Access Protocol ver 4, 因特网邮件访问协议版本 4</p>
</blockquote>
<ul>
<li>都是报文访问代理 (MAA) 协议, 提供用户和邮件服务器间的报文阅读</li>
<li>POP3:<ul>
<li>功能简单, 不支持预览</li>
<li>支持删除模式和保存模式<ul>
<li>删除: 邮件从邮箱读取后即被删除</li>
<li>保存: 读后不删除</li>
</ul>
</li>
</ul>
</li>
<li>IMAP4:<ul>
<li>可以在下载前读取头部或内容中的特定字符串</li>
<li>可以部分下载邮件内容</li>
</ul>
</li>
</ul>
<h2 id="三-文件传输"><a href="#三-文件传输" class="headerlink" title="三.文件传输"></a>三.文件传输</h2><blockquote>
<p>file transfer protocol</p>
</blockquote>
<p>FTP 的架构、FTP 的连接、FTP 的传输方式、端口</p>
<h3 id="FTP-IMP"><a href="#FTP-IMP" class="headerlink" title="FTP [IMP]"></a>FTP [IMP]</h3><ul>
<li><p>客户机/服务器模式</p>
<img src="image-20210623151311954.png" alt="image-20210623151311954" style="zoom:67%;" /></li>
<li><p>控制端口 21, 数据端口 20</p>
</li>
<li><p>前者在整个会话期间持续连接, 后者仅在文件传输时连接</p>
</li>
<li><p>需要登陆, 但服务器可以允许匿名帐户 (谁都能用)</p>
</li>
<li><p>可以传输文本和二进制文件</p>
</li>
</ul>
<h3 id="FTP-的架构"><a href="#FTP-的架构" class="headerlink" title="FTP 的架构"></a>FTP 的架构</h3><ul>
<li>文件传输协议（File Transfer Protocol, FTP）是TCP/IP提供的标准机制，用于从一个主机将文件复制到另一个主机。</li>
</ul>
<h3 id="FTP-的连接"><a href="#FTP-的连接" class="headerlink" title="FTP 的连接"></a>FTP 的连接</h3><ul>
<li>FTP与其他客户/服务器应用程序的不同之处在于它在主机之间建立两个连接：一个连接用于数据传输，另一个用于控制信息传输（命令和响应）。</li>
<li>在整个交互的FTP会话期间，控制连接始终处于连接状态。数据连接则在每次传输文件时开启然后关闭。</li>
</ul>
<h3 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h3><ul>
<li><strong>FTP使用TCP服务。它需要两个TCP连接。熟知端口21用于控制连接，而熟知端口20用于数据连接。</strong></li>
</ul>
<h3 id="FTP-的传输方式"><a href="#FTP-的传输方式" class="headerlink" title="FTP 的传输方式"></a>FTP 的传输方式</h3><ul>
<li>流方式（默认方式）：<ul>
<li>数据作为连续的字节流从FTP传递给TCP，TCP负责将数据划分成适当大小的段。</li>
</ul>
</li>
<li>块方式：<ul>
<li>数据可以按块从FTP传递给TCP。</li>
</ul>
</li>
<li>压缩方式：<ul>
<li>如果文件很大，数据可进行压缩。</li>
<li>通常使用的压缩方法是游程长度编码。</li>
</ul>
</li>
</ul>
<h4 id="匿名登录"><a href="#匿名登录" class="headerlink" title="匿名登录"></a>匿名登录</h4><img src="image-20210623151436976.png" alt="image-20210623151436976" style="zoom:67%;" />

<!--

 * @Title: 有线局域网：以太网
 * @Description: 
 * @Author: SoulCompiler/horizon/prinscarce
 * @Email: prinscarce@outlook.com
 * @Blog: prinscarce.github.io
 * @LastEditors: prinscarce
   -->

<h1 id="第-14-章-无线局域网"><a href="#第-14-章-无线局域网" class="headerlink" title="第 14 章 无线局域网"></a>第 14 章 无线局域网</h1><h2 id="一-WLAN-体系结构与-IEEE-802-11-标准"><a href="#一-WLAN-体系结构与-IEEE-802-11-标准" class="headerlink" title="一. WLAN 体系结构与 IEEE 802.11 标准"></a>一. WLAN 体系结构与 IEEE 802.11 标准</h2><h3 id="体系结构"><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h3><h4 id="基本服务集-BSS"><a href="#基本服务集-BSS" class="headerlink" title="基本服务集(BSS)"></a>基本服务集(BSS)</h4><ul>
<li><p>无线局域网的基本组成部分</p>
</li>
<li><p>分为特别网络和基础设施网络</p>
<ul>
<li>特别网络: 不带 AP (access point, 访问点/接入点)</li>
<li>基础设施网络: 有一个 AP, 也称作基础网络</li>
</ul>
<img src="image-20210622111944801.png" alt="image-20210622111944801" style="zoom:67%;" /></li>
</ul>
<h4 id="扩展服务集-ESS"><a href="#扩展服务集-ESS" class="headerlink" title="扩展服务集(ESS)"></a>扩展服务集(ESS)</h4><ul>
<li><p>由两个或更多个带有 AP 的 BSS 组成</p>
</li>
<li><p>通过分布式系统连接各 AP, 连接方式为任意的 IEEE 局域网, 例如以太网</p>
</li>
<li><p>移动站点: 普通的站点; 固定站点: AP</p>
</li>
<li><p>同 BSS 内可以直接通信, 但不同 BSS 下不能直接通信</p>
</li>
<li><p>移动站点可以同时属于多个 BSS</p>
<img src="image-20210622111958865.png" alt="image-20210622111958865" style="zoom:67%;" /></li>
</ul>
<h4 id="站点类型"><a href="#站点类型" class="headerlink" title="站点类型"></a>站点类型</h4><ul>
<li>不迁移: 不动或者仅在一个 BSS 内部移动</li>
<li>BSS 迁移: 在同一个 ESS 下, 可以在 BSS 间移动</li>
<li>ESS 迁移: 可以在不同的 ESS 间迁移, 但不保证连续</li>
</ul>
<h2 id="二-MAC-子层"><a href="#二-MAC-子层" class="headerlink" title="二.MAC 子层"></a>二.MAC 子层</h2><p><strong>（DCF 和 PCF）</strong>、帧结构</p>
<h3 id="分布式协调功能（DCF）"><a href="#分布式协调功能（DCF）" class="headerlink" title="分布式协调功能（DCF）"></a>分布式协调功能（DCF）</h3><blockquote>
<p>DCF: Distributed Coordination Function</p>
</blockquote>
<ul>
<li><p>采用 CSMA/CA 作为访问方式, 原因:</p>
<ul>
<li>否则需要发送时同时侦听, 提高成本</li>
<li>由于隐藏站点可能无法检测冲突</li>
<li>站点间距导致的信号衰减可能会使两端无法检测到对方的冲突</li>
</ul>
<img src="image-20210622113856105.png" alt="image-20210622113856105" style="zoom:67%;" />
### 点协调功能（PCF）</li>
</ul>
<blockquote>
<p>PCF: Point Coordination Function</p>
</blockquote>
<ul>
<li>集中式无竞争轮询</li>
<li>优先级高于 DCF, 主动权在 AP</li>
<li>主要用于对时间敏感数据的传输</li>
</ul>
<img src="image-20210622114445632.png" alt="image-20210622114445632" style="zoom:67%;" />

<h3 id="帧结构"><a href="#帧结构" class="headerlink" title="帧结构"></a>帧结构</h3><ul>
<li><p>帧格式</p>
<img src="image-20210622114520052.png" alt="image-20210622114520052" style="zoom:67%;" /></li>
<li><p>9 个字段: 帧控制 (FC), D, 地址 (有四个), 序列号, 帧主题, FCS (帧校验和, CRC-32)</p>
</li>
<li><p>三种类型: 管理帧, 控制帧, 数据帧</p>
</li>
</ul>
<h2 id="三-802-11-物理层、寻址方式、隐藏站点和暴露站点"><a href="#三-802-11-物理层、寻址方式、隐藏站点和暴露站点" class="headerlink" title="三. 802.11 物理层、寻址方式、隐藏站点和暴露站点"></a>三. 802.11 物理层、寻址方式、隐藏站点和暴露站点</h2><h3 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h3><img src="image-20210622115313831.png" alt="image-20210622115313831" style="zoom:67%;" />

<blockquote>
<p>FHSS调频扩频；DHSS直接序列扩频；红外线，PMM脉冲位置调制</p>
<p>OFDM正交频分多路复用；DSSS高速率直接序列扩频；OFDM正交频分多路复用</p>
</blockquote>
<ul>
<li><p>除红外线外, 均在 ISM 频带: 902<del>928 MHz, 2.4</del>4.835 GHz, 5.725~5.850 GHz</p>
<ul>
<li>ISM: 工业的, 科学的, 医学的</li>
</ul>
<img src="image-20210622115632888.png" alt="image-20210622115632888" style="zoom:67%;" /></li>
</ul>
<h3 id="寻址机制"><a href="#寻址机制" class="headerlink" title="寻址机制"></a>寻址机制</h3><ul>
<li>四种情况: 站点间, AP 间, 站点和 AP 之间 (双向)</li>
<li>通过 FC 中的 To DS (发往分布式系统, 差不多就是某个 AP) 和 From DS (来自分布式系统, 如前) 确定具体情况, 见下</li>
</ul>
<img src="20210619231301.png" style="zoom:67%;" />

<img src="image-20210622114850116.png" alt="image-20210622114850116" style="zoom:67%;" />

<ol>
<li>该帧既不是发往一个分布式系统，也不是来自于一个分布式系统，而是从同一个BSS中的一个站点到另外一个站点，不经过DS，需要给原始发送站回送ACK帧</li>
<li>该帧来自于分布式系统，从一个AP来，到一个站点去，ACK帧将被回送给AP</li>
<li>该帧要发送给一个分布式系统，从一个站点发往AP，ACK帧将被发送到原始站点</li>
<li>暗示分布式系统也是无线的，从一个DS的AP发送到另外一个DS的AP；<br>因为如果其中一个DS是一个有线局域网，则这里就不需要定义地址</li>
</ol>
<h3 id="隐藏站点"><a href="#隐藏站点" class="headerlink" title="隐藏站点"></a>隐藏站点</h3><img src="image-20210622115055557.png" alt="image-20210622115055557" style="zoom:67%;" />

<ul>
<li>若 B -&gt; A, C -&gt; A, 由于 B C 之间相互隐藏, 不知道对方存在, 因此会造成冲突</li>
<li>解决方法: 使用握手帧 (RTS 和 CTS, 请求发送和允许发送)</li>
</ul>
<h3 id="暴露站点"><a href="#暴露站点" class="headerlink" title="暴露站点"></a>暴露站点</h3><img src="20210619232117.png" alt="img" style="zoom:67%;" />

<ul>
<li>若 A -&gt; B, 开始后 C -&gt; D, 由于前者干扰导致后者必须等待 (即使 D 不在 A 范围)</li>
</ul>
